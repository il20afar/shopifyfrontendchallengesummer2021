(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{26:function(e,n,t){},33:function(e,n,t){},34:function(e,n,t){},35:function(e,n,t){},48:function(e,n,t){},49:function(e,n,t){},50:function(e,n,t){},51:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t(1),i=t.n(a),o=t(17),s=t.n(o),r=(t(26),t(15)),l=t(4),u=t.n(l),j=t(7),d=t(5),f=t(18),h=t(6),b=t(3),p=(t(33),function(e){var n=e.value,t=e.placeholder,i=e.onChange,o=e.onSearch,s=e.onCancel,r=Object(a.useRef)(null),l=""===n?"unavailable":"available";return Object(c.jsxs)("div",{className:"component_il20afar_input",children:[Object(c.jsxs)("div",{className:"input_container",children:[Object(c.jsx)("input",{ref:r,className:"input_div",value:n,placeholder:t,onChange:i,onKeyDown:function(e){"Enter"===e.key&&""!==n&&(e.preventDefault(),o())},type:"text"}),Object(c.jsx)("div",{className:"cancel_icon_container ".concat(l),onClick:function(){s()},children:Object(c.jsx)(h.a,{icon:b.g,color:"red",size:"sm"})})]}),Object(c.jsx)("div",{className:"search_icon_container ".concat(l),onClick:o,children:Object(c.jsx)(h.a,{icon:b.e,color:"white",size:"sm"})})]})}),m=t(52),O=(t(34),function(e){var n=e.title,t=e.children;return Object(c.jsxs)("div",{className:"component_il20afar_info_field_container",children:[Object(c.jsxs)("div",{className:"info_field_title",children:[n,":"]}),Object(c.jsx)("div",{className:"info_field_content",children:t})]})}),v=(t(35),function(e){var n=e.type,t=e.index,i=e.movieResult,o=e.isExpanded,s=e.toggleExpanded,r=e.onAction,l=e.showActionButton,u=Object(a.useRef)(null),j=Object(a.useState)(!1),f=Object(d.a)(j,2),p=f[0],v=f[1],x="Results"===n,_={onAction:function(){l&&(u.current&&u.current.classList.add("close_animate"),window.setTimeout((function(){r(n,i.Title)}),300))},onExpandInfo:function(){u.current&&(!p&&v(!0),s(t,i.imdbID))}};return Object(c.jsxs)("div",{ref:u,className:"component_il20afar_movie_info_container ".concat(x?"results":"nominations"," ").concat(o?"expanded":""," ").concat(l?"":"hide_action_button"),children:[Object(c.jsxs)("div",{className:"action_hover_wrapper",onClick:_.onAction,children:[Object(c.jsx)("div",{className:"poster_container",children:"N/A"===i.Poster?Object(c.jsx)(h.a,{icon:b.a,size:"lg",color:"white"}):Object(c.jsx)("img",{src:i.Poster,alt:"movie-poster-".concat(i.Title)})}),Object(c.jsx)("div",{className:"info_container",children:o?Object(c.jsx)(c.Fragment,{children:["Title","Director","Actors","Year","Runtime","Rated","Released","Plot"].map((function(e){return Object(c.jsx)(O,{title:e,children:i[e]},Object(m.a)())}))}):Object(c.jsx)("div",{className:"info_wrapper",children:"".concat(i.Title," (").concat(i.Year,")")})}),Object(c.jsx)("div",{className:"icon_container ".concat(x?"add":"remove"),children:Object(c.jsx)(h.a,{icon:x?b.d:b.c,color:"black"})})]}),Object(c.jsx)("div",{className:"icon_container info ".concat(p?"animate":""),onClick:_.onExpandInfo,children:Object(c.jsx)(h.a,{icon:p?b.f:o?b.h:b.b,color:"black"})})]},Object(m.a)())}),x=t(11),_=t(19),g=t.n(_),N=function(){var e=Object(j.a)(u.a.mark((function e(n,t){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=g.a.stringify(Object(x.a)(Object(x.a)(Object(x.a)({},"search"===t&&{s:n}),"id"===t&&{i:n}),{},{type:"movie"})),e.prev=1,e.next=4,fetch("https://www.omdbapi.com/?apikey=".concat("db3f484","&").concat(c));case 4:return a=e.sent,e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",e.t0.toString());case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n,t){return e.apply(this,arguments)}}(),y=(t(48),function(e){var n=e.type,t=e.searchResults,o=e.searchStatus,s=e.onAction,r=e.showActionButton,l=void 0===r||r,f=Object(a.useState)(-1),h=Object(d.a)(f,2),b=h[0],p=h[1],O=Object(a.useRef)({}),x=function(){var e=Object(j.a)(u.a.mark((function e(n,t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==b){e.next=4;break}p(-1),e.next=9;break;case 4:return e.next=6,N(t,"id");case 6:c=e.sent,O.current=c,p(n);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return i.a.useEffect((function(){p(-1)}),[o]),Object(c.jsxs)("div",{className:"component_il20afar_result_container ".concat(o," ").concat(l?"":"hideActionButton"),children:[Object(c.jsx)("div",{className:"title_container",children:n}),Object(c.jsx)("div",{className:"content_wrapper",children:0===t.length?Object(c.jsx)("div",{className:"empty_result_container",children:"Results"===n?"idle"===o?"Search to display movie results.":"No results found...":"Add movies from the 'Results' section!"}):t.map((function(e,t){var a=t===b;return Object(c.jsx)(v,{type:n,index:t,movieResult:a?O.current:e,isExpanded:a,toggleExpanded:x,onAction:s,showActionButton:l},Object(m.a)())}))})]})}),S=(t(49),function(){var e=Object(a.useState)("idle"),n=Object(d.a)(e,2),t=n[0],i=n[1],o=Object(a.useState)(""),s=Object(d.a)(o,2),l=s[0],h=s[1],b=Object(a.useState)([]),m=Object(d.a)(b,2),O=m[0],v=m[1],x=Object(a.useState)([]),_=Object(d.a)(x,2),g=_[0],S=_[1],w={input:{onChange:function(e){h(e.target.value)},onSearch:function(){var e=Object(j.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i("searching"),e.next=3,N(l,"search");case 3:(n=e.sent).Search?(v(n.Search),i("success")):(v([]),i("noresults"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onCancel:function(){h("")}},nominations:{onAction:function(e,n){if("Results"===e){var t=O.find((function(e){return n===e.Title}));S([t].concat(Object(r.a)(g)))}else S(Object(r.a)(g).filter((function(e){return n!==e.Title})))}}};!function(e){Object(a.useEffect)((function(){var n=localStorage.getItem("shopify_challenge_nominations");null!==n&&e(JSON.parse(n))}),[])}(S),function(e,n){Object(a.useEffect)((function(){localStorage.setItem("shopify_challenge_nominations",JSON.stringify(e))}),[e,n])}(g,S);var A=5===g.length;return Object(c.jsxs)(f.a,{style:{maxHeight:"100%"},children:[Object(c.jsx)("div",{className:"nominations_banner ".concat(A?"show":"hide"),children:"You have successfully selected all of your nominations, thank you for using Shoppies \ud83d\ude42"}),Object(c.jsxs)("div",{className:"main_container ".concat(t," ").concat(A?"showBanner":""),children:[Object(c.jsx)("div",{className:"logo_container",children:"The Shoppies"}),Object(c.jsx)("div",{className:"search_container",children:Object(c.jsx)(p,{value:l,placeholder:"Search for a movie...",onChange:w.input.onChange,onSearch:w.input.onSearch,onCancel:w.input.onCancel})}),Object(c.jsxs)("div",{className:"content_container",children:[Object(c.jsx)(y,{type:"Results",searchResults:O.filter((function(e){return!g.includes(e)})),searchStatus:t,onAction:w.nominations.onAction,showActionButton:5!==g.length}),Object(c.jsx)(y,{type:"Nominations",searchResults:g,searchStatus:"idle",onAction:w.nominations.onAction})]})]})]})});t(50);var w=function(){return Object(c.jsx)(S,{})},A=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,53)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,i=n.getLCP,o=n.getTTFB;t(e),c(e),a(e),i(e),o(e)}))};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),A()}},[[51,1,2]]]);
//# sourceMappingURL=main.e5d2bd97.chunk.js.map