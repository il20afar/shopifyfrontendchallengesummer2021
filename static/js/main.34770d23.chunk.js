(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{25:function(e,n,t){},32:function(e,n,t){},33:function(e,n,t){},34:function(e,n,t){},47:function(e,n,t){},48:function(e,n,t){},49:function(e,n,t){},50:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t(2),i=t.n(a),o=t(17),s=t.n(o),r=(t(25),t(15)),l=t(4),u=t.n(l),j=t(7),d=t(6),f=t(5),h=t(3),b=(t(32),function(e){var n=e.value,t=e.placeholder,i=e.onChange,o=e.onSearch,s=e.onCancel,r=Object(a.useRef)(null),l=""===n?"unavailable":"available";return Object(c.jsxs)("div",{className:"component_il20afar_input",children:[Object(c.jsxs)("div",{className:"input_container",children:[Object(c.jsx)("input",{ref:r,className:"input_div",value:n,placeholder:t,onChange:i,onKeyDown:function(e){"Enter"===e.key&&""!==n&&(e.preventDefault(),o())},type:"text"}),Object(c.jsx)("div",{className:"cancel_icon_container ".concat(l),onClick:function(){s(),r.current.focus()},children:Object(c.jsx)(f.a,{icon:h.f,color:"red",size:"sm"})})]}),Object(c.jsx)("div",{className:"search_icon_container ".concat(l),onClick:o,children:Object(c.jsx)(f.a,{icon:h.e,color:"white",size:"sm"})})]})}),p=t(51),m=(t(33),function(e){var n=e.title,t=e.children;return Object(c.jsxs)("div",{className:"component_il20afar_info_field_container",children:[Object(c.jsxs)("div",{className:"info_field_title",children:[n,":"]}),Object(c.jsx)("a",{className:"info_field_content",href:t,children:t})]})}),O=(t(34),function(e){var n=e.type,t=e.index,i=e.movieResult,o=e.isExpanded,s=e.toggleExpanded,r=e.onAction,l=e.showActionButton,u=Object(a.useRef)(null),j="Results"===n,d={onAction:function(){l&&(u.current&&u.current.classList.add("close_animate"),window.setTimeout((function(){r(n,i.Title)}),300))}};return Object(c.jsxs)("div",{ref:u,className:"component_il20afar_movie_info_container ".concat(j?"results":"nominations"," ").concat(o?"expanded":""," ").concat(l?"":"hide_action_button"),children:[Object(c.jsxs)("div",{className:"action_hover_wrapper",onClick:d.onAction,children:[Object(c.jsx)("div",{className:"poster_container",children:"N/A"===i.Poster?Object(c.jsx)(f.a,{icon:h.a,size:"lg",color:"white"}):Object(c.jsx)("img",{src:i.Poster,alt:"movie-poster-".concat(i.Title)})}),Object(c.jsx)("div",{className:"info_container",children:o?Object(c.jsx)(c.Fragment,{children:["Title","Director","Actors","Year","Runtime","Rated","Released","Plot"].map((function(e){return Object(c.jsx)(m,{title:e,children:i[e]},Object(p.a)())}))}):Object(c.jsx)("div",{className:"info_wrapper",children:"".concat(i.Title," (").concat(i.Year,")")})}),Object(c.jsx)("div",{className:"icon_container ".concat(j?"add":"remove"),children:Object(c.jsx)(f.a,{icon:j?h.d:h.c,color:"black"})})]}),Object(c.jsx)("div",{className:"icon_container info",onClick:function(){return s(t,i.imdbID)},children:Object(c.jsx)(f.a,{icon:h.b,color:"black"})})]},Object(p.a)())}),v=t(11),x=t(18),_=t.n(x),g=function(){var e=Object(j.a)(u.a.mark((function e(n,t){var c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=_.a.stringify(Object(v.a)(Object(v.a)(Object(v.a)({},"search"===t&&{s:n}),"id"===t&&{i:n}),{},{type:"movie"})),e.prev=1,e.next=4,fetch("https://www.omdbapi.com/?apikey=".concat("db3f484","&").concat(c));case 4:return a=e.sent,e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",e.t0.toString());case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n,t){return e.apply(this,arguments)}}(),N=(t(47),function(e){var n=e.type,t=e.searchResults,o=e.searchStatus,s=e.onAction,r=e.showActionButton,l=void 0===r||r,f=Object(a.useState)(-1),h=Object(d.a)(f,2),b=h[0],m=h[1],v=Object(a.useRef)({}),x=function(){var e=Object(j.a)(u.a.mark((function e(n,t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==b){e.next=4;break}m(-1),e.next=9;break;case 4:return e.next=6,g(t,"id");case 6:c=e.sent,v.current=c,m(n);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return i.a.useEffect((function(){m(-1)}),[o]),Object(c.jsxs)("div",{className:"component_il20afar_result_container ".concat(o," ").concat(l?"":"hideActionButton"),children:[Object(c.jsx)("div",{className:"title_container",children:n}),Object(c.jsx)("div",{className:"content_wrapper",children:0===t.length?Object(c.jsx)("div",{className:"empty_result_container",children:"Results"===n?"idle"===o?"Search to display movie results.":"No results found...":"Add movies from the 'Results' section!"}):t.map((function(e,t){var a=t===b;return Object(c.jsx)(O,{type:n,index:t,movieResult:a?v.current:e,isExpanded:a,toggleExpanded:x,onAction:s,showActionButton:l},Object(p.a)())}))})]})}),w=(t(48),function(){var e=Object(a.useState)("idle"),n=Object(d.a)(e,2),t=n[0],i=n[1],o=Object(a.useState)(""),s=Object(d.a)(o,2),l=s[0],f=s[1],h=Object(a.useState)([]),p=Object(d.a)(h,2),m=p[0],O=p[1],v=Object(a.useState)([]),x=Object(d.a)(v,2),_=x[0],w=x[1],y={input:{onChange:function(e){f(e.target.value)},onSearch:function(){var e=Object(j.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i("searching"),e.next=3,g(l,"search");case 3:(n=e.sent).Search?(O(n.Search),i("success")):(O([]),i("noresults"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onCancel:function(){f("")}},nominations:{onAction:function(e,n){if("Results"===e){var t=m.find((function(e){return n===e.Title}));w([t].concat(Object(r.a)(_)))}else w(Object(r.a)(_).filter((function(e){return n!==e.Title})))}}};!function(e){Object(a.useEffect)((function(){var n=localStorage.getItem("shopify_challenge_nominations");null!==n&&e(JSON.parse(n))}),[])}(w),function(e,n){Object(a.useEffect)((function(){localStorage.setItem("shopify_challenge_nominations",JSON.stringify(e))}),[e,n])}(_,w);var S=5===_.length;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"nominations_banner ".concat(S?"show":"hide"),children:"You have successfully selected all of your nominations, thank you for using Shoppies \ud83d\ude42"}),Object(c.jsxs)("div",{className:"main_container ".concat(t," ").concat(S?"showBanner":""),children:[Object(c.jsx)("div",{className:"logo_container",children:"The Shoppies"}),Object(c.jsx)("div",{className:"search_container",children:Object(c.jsx)(b,{value:l,placeholder:"Search for a movie...",onChange:y.input.onChange,onSearch:y.input.onSearch,onCancel:y.input.onCancel})}),Object(c.jsxs)("div",{className:"content_container",children:[Object(c.jsx)(N,{type:"Results",searchResults:m.filter((function(e){return!_.includes(e)})),searchStatus:t,onAction:y.nominations.onAction,showActionButton:5!==_.length}),Object(c.jsx)(N,{type:"Nominations",searchResults:_,searchStatus:"idle",onAction:y.nominations.onAction})]})]})]})});t(49);var y=function(){return Object(c.jsx)(w,{})},S=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,52)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,i=n.getLCP,o=n.getTTFB;t(e),c(e),a(e),i(e),o(e)}))};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root")),S()}},[[50,1,2]]]);
//# sourceMappingURL=main.34770d23.chunk.js.map