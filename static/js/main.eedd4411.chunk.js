(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{24:function(e,n,t){},31:function(e,n,t){},44:function(e,n,t){},45:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t(2),i=t.n(a),o=t(17),s=t.n(o),r=(t(24),t(15)),l=t(6),u=t(4),j=t.n(u),d=t(9),f=t(7),h=t(48),b=t(5),p=t(3),O=(t(31),function(e){var n=e.value,t=e.placeholder,a=e.onChange,o=e.onSearch,s=e.onCancel,r=i.a.useRef(null),l=""===n?"unavailable":"available";return Object(c.jsxs)("div",{className:"component_il20afar_input",children:[Object(c.jsxs)("div",{className:"input_container",children:[Object(c.jsx)("input",{ref:r,className:"input_div",value:n,placeholder:t,onChange:a,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),o())},type:"text"}),Object(c.jsx)("div",{className:"cancel_icon_container ".concat(l),onClick:function(){console.log("passs"),s(),r.current.focus()},children:Object(c.jsx)(b.a,{icon:p.f,color:"red",size:"sm"})})]}),Object(c.jsx)("div",{className:"search_icon_container ".concat(l),onClick:o,children:Object(c.jsx)(b.a,{icon:p.e,color:"white",size:"sm"})})]})}),m=t(18),v=t.n(m),x=function(){var e=Object(d.a)(j.a.mark((function e(n,t){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=v.a.stringify(Object(l.a)(Object(l.a)(Object(l.a)({},"search"===t&&{s:n}),"id"===t&&{i:n}),{},{type:"movie"})),e.prev=1,e.next=4,fetch("http://www.omdbapi.com/?apikey=".concat("db3f484","&").concat(c));case 4:return a=e.sent,e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",e.t0.toString());case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n,t){return e.apply(this,arguments)}}(),_=(t(44),function(e){var n=e.title,t=e.children;return Object(c.jsxs)("div",{className:"info_field_container",children:[Object(c.jsxs)("div",{className:"info_field_title",children:[n,":"]}),Object(c.jsx)("a",{className:"info_field_content",href:t,children:t})]})}),g=function(e){var n=e.isExpanded,t=e.searchResult,i=e.expandedRef,o=e.title,s=e.index,r=e.toggleExpanded,l=e.onAction,u=e.actionButtonVisible,j=Object(a.useRef)(null),d="Results"===o,f={onAction:function(){u&&(j.current&&j.current.classList.add("close_animate"),window.setTimeout((function(){l(o,t.Title)}),300))}};return Object(c.jsxs)("div",{ref:j,className:"movie_info_container ".concat(d?"results":"nominations"," ").concat(n?"expanded":""," ").concat(u?"":"hide_action_button"),children:[Object(c.jsxs)("div",{className:"action_hover_wrapper",onClick:f.onAction,children:[Object(c.jsx)("div",{className:"poster_container",children:"N/A"===t.Poster?Object(c.jsx)(b.a,{icon:p.a,size:"lg",color:"white"}):Object(c.jsx)("img",{src:t.Poster})}),Object(c.jsx)("div",{className:"info_container",children:n?Object(c.jsx)(c.Fragment,{children:["Title","Director","Actors","Year","Runtime","Rated","Released","Plot"].map((function(e){return Object(c.jsx)(_,{title:e,children:i.current[e]})}))}):Object(c.jsx)("div",{className:"info_wrapper",children:"".concat(t.Title," (").concat(t.Year,")")})}),Object(c.jsx)("div",{className:"icon_container ".concat(d?"add":"remove"),children:Object(c.jsx)(b.a,{icon:d?p.d:p.c,color:"black"})})]}),Object(c.jsx)("div",{className:"icon_container info",onClick:function(){return r(s,t.imdbID)},children:Object(c.jsx)(b.a,{icon:p.b,color:"black"})})]},Object(h.a)())},N=function(e){var n=e.title,t=e.results,i=e.searchStatus,o=e.onAction,s=e.actionButtonVisible,r=void 0===s||s,u=Object(a.useState)(-1),h=Object(f.a)(u,2),b=h[0],p=h[1],O=Object(a.useRef)({}),m=function(){var e=Object(d.a)(j.a.mark((function e(n,t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==b){e.next=4;break}p(-1),e.next=9;break;case 4:return e.next=6,x(t,"id");case 6:c=e.sent,O.current=c,p(n);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"result_container ".concat(i," ").concat(r?"":"hideActionButton"),children:[Object(c.jsx)("div",{className:"title_container",children:n}),Object(c.jsx)("div",{className:"content_wrapper",children:t.map((function(e,t){return Object(c.jsx)(g,Object(l.a)({isExpanded:t===b},{searchResult:e,expandedRef:O,title:n,index:t,toggleExpanded:m,onAction:o,actionButtonVisible:r}))}))})]})},S=function(){var e=Object(a.useState)("idle"),n=Object(f.a)(e,2),t=n[0],i=n[1],o=Object(a.useState)(""),s=Object(f.a)(o,2),l=s[0],u=s[1],h=Object(a.useState)([]),b=Object(f.a)(h,2),p=b[0],m=b[1],v=Object(a.useState)([]),_=Object(f.a)(v,2),g=_[0],S=_[1],w={input:{onChange:function(e){u(e.target.value)},onSearch:function(){var e=Object(d.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i("searching"),e.next=3,x(l,"search");case 3:(n=e.sent).Search?(m(n.Search),i("success")):i("idle");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onCancel:function(){u("")}},nominations:{onAction:function(e,n){if("Results"===e){var t=p.find((function(e){return n===e.Title}));S([t].concat(Object(r.a)(g)))}else S(Object(r.a)(g).filter((function(e){return n!==e.Title})))}}};!function(e){Object(a.useEffect)((function(){var n=localStorage.getItem("shopify_challenge_nominations");null!==n&&e(JSON.parse(n))}),[])}(S),function(e,n){Object(a.useEffect)((function(){localStorage.setItem("shopify_challenge_nominations",JSON.stringify(e))}),[e,n])}(g,S);var y=5===g.length;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"nominations_banner ".concat(y?"show":"hide"),children:"You have successfully selected all of your nominations, thank you for using Shoppies \ud83d\ude42"}),Object(c.jsxs)("div",{className:"main_container ".concat(t," ").concat(y?"showBanner":""),children:[Object(c.jsx)("div",{className:"logo_container",children:"The Shoppies"}),Object(c.jsx)("div",{className:"search_container",children:Object(c.jsx)(O,{value:l,placeholder:"Search for a movie...",onChange:w.input.onChange,onSearch:w.input.onSearch,onCancel:w.input.onCancel})}),Object(c.jsxs)("div",{className:"content_container",children:[Object(c.jsx)(N,{title:"Results",results:p.filter((function(e){return!g.includes(e)})),searchStatus:t,onAction:w.nominations.onAction,actionButtonVisible:5!==g.length}),Object(c.jsx)(N,{title:"Nominations",results:g,searchStatus:t,onAction:w.nominations.onAction})]})]})]})};t(45);var w=function(){return Object(c.jsx)(S,{})},y=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,49)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,i=n.getLCP,o=n.getTTFB;t(e),c(e),a(e),i(e),o(e)}))};s.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(w,{})}),document.getElementById("root")),y()}},[[46,1,2]]]);
//# sourceMappingURL=main.eedd4411.chunk.js.map