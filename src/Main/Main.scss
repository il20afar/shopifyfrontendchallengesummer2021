@import "../Styles/Utils.scss";

@mixin container($height) {
  $margin: 30px;
  @include wh(calc(100% - 60px), $height);
  border-radius: 10px;
  margin: 10px 30px;
  box-sizing: border-box;
}
@mixin transition($time: 0.35s) {
  transition: $time ease-in-out;
}

.nominations_banner {
  @include wh(100%, 0px);
  @include font(14px, ghostwhite, 40px, 300, auto);
  background-color: $purple;
  padding: 0 10px;
  overflow: hidden;
  @include transition(0.3s);

  &.show {
    height: 40px;
  }
}

.main_container {
  @include wh(100vw, 100vh);
  &.showBanner {
    height: calc(100vh - 40px);
  }
  @include flex(column, flex-start);
  background-color: $bg;
  user-select: none;

  .logo_container {
    @include wh(100%, 80px);
    @include font(40px, $logo, 80px, bold, italic);
    text-align: center;
  }

  .search_container {
    @include container(fit-content);
  }

  .content_container {
    @include container(calc(100% - 185px));
    @include flex(row, space-between);

    .result_container {
      @include wh(calc(50% - 5px), 100%);
      position: relative;
      border-radius: 10px;
      background-color: $bggray;
      box-shadow: $boxshadow;

      .title_container {
        @include wh(fit-content, 34px);
        @include font(16px, $bg, 34px, 500, auto);
        padding-left: 6px;
      }

      .content_wrapper {
        @include wh(100%, calc(100% - 40px));
        box-sizing: border-box;
        overflow: scroll;
        scroll-snap-type: y mandatory;

        > :not(:last-child) {
          margin-bottom: 10px;
        }
        .movie_info_container {
          @include wh(calc(100% - 20px), 80px);
          @include flex(row, space-between);
          margin: 0 10px 10px 10px;
          overflow: hidden;

          background-color: ghostwhite;
          border-radius: 10px;
          box-sizing: border-box;
          box-shadow: $boxshadow;

          cursor: pointer;
          scroll-snap-align: start;
          @include transition(0.1s);

          .action_hover_wrapper {
            @include wh(calc(100% - 44px), 100%);
            @include flex(row, space-between);

            .poster_container {
              @include wh(54px, 80px);
              overflow: hidden;
              background-color: #b1b1b1;
              border-radius: 10px;
              @include flex(column, center);

              svg {
                margin: 0 auto;
              }

              img {
                @include wh(auto, 80px);
                object-fit: cover;
              }
            }

            .info_container {
              @include wh(calc(100% - 120px), 80px);
              @include flex(column, center);
              .info_wrapper {
                @include font(16px, black, 16px, 300, auto);
                word-break: break-word;
                text-overflow: ellipsis;
              }
            }
          }

          .icon_container {
            @include wh(34px, 100%);
            @include flex(column, center);
            border-radius: 8px;
            cursor: pointer;
            @include transition(0.1s);

            &.info {
              padding-right: 10px;
            }

            &:hover {
              opacity: 0.8;

              &.info {
                svg {
                  color: $purple;
                }
              }
              &.add {
                svg {
                  color: $green;
                }
              }
              &.remove {
                svg {
                  color: $red;
                }
              }
            }

            > * {
              margin: 0 auto;
              height: 20px;
              width: auto;
            }
          }

          &.expanded {
            height: fit-content;
            .info_container {
              @include wh(calc(100% - 120px), 100%);
              margin: 10px 0 0 0;
              color: black;
            }
            .icon_container {
              height: 80px;
            }
          }

          &.results {
            .action_hover_wrapper:hover {
              .icon_container svg {
                color: $green;
              }
            }
            &.hide_action_button {
              cursor: default;
              .icon_container.add {
                animation: hide_action_button 0.2s ease-out;
                animation-fill-mode: forwards;

                @keyframes hide_action_button {
                  from {
                    opacity: 1;
                  }
                  to {
                    opacity: 0;
                    display: none;
                  }
                }
              }
            }
          }

          &.nominations {
            .action_hover_wrapper:hover {
              .icon_container svg {
                color: $red;
              }
            }
          }

          &.close_animate {
            animation: close_animate 0.4s ease-in-out;

            @keyframes close_animate {
              from {
                height: 80px;
                opacity: 1;
              }
              to {
                height: 0px;
                opacity: 0;
              }
            }
          }
          &:not(.hide_action_button) {
            &:hover {
              background-color: rgb(207, 207, 207);
              .poster_container,
              .icon_container,
              .icon_container.info {
                opacity: 0.8;
              }
            }
          }
        }

        &.idle {
          .icon_container {
            width: 100%;
          }
          .info_container {
            display: none;
          }
        }

        &.searching {
          background-color: gray;
          border-radius: 8px;
          animation: example 1s infinite ease-in-out;
          > div {
            opacity: 0;
          }

          @keyframes example {
            0% {
              background-color: rgb(45, 45, 45);
            }
            50% {
              background-color: rgb(211, 211, 211);
            }
            100% {
              background-color: rgb(45, 45, 45);
            }
          }
        }
      }
    }

    @media only screen and (max-width: 600px) {
      @include flex(column, space-between);
      > .result_container {
        @include wh(100% !important, calc(50% - 5px));
        position: relative;
        border-radius: 10px;
        background-color: $bggray;
      }
    }
  }
}

.info_field_container {
  @include wh(100%, fit-content);
  @include flex(column, flex-start);
  text-align: left;
  color: black;

  margin-bottom: 10px;
  .info_field_title {
    @include wh(100%, 14px);
    @include font(14px, black, 14px, 300, auto);

    margin-bottom: 2px;
  }
  .info_field_content {
    @include wh(100%, fit-content);
    @include font(16px, inherit !important, 16px, 300, auto);

    word-break: break-word;
    text-overflow: ellipsis;
    margin-right: 16px;

    text-decoration: none;
  }
}
